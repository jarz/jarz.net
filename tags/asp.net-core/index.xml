<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ASP.NET Core on Tim Jarzombek</title><link>https://jarz.net/tags/asp.net-core/</link><description>Recent content in ASP.NET Core on Tim Jarzombek</description><generator>Hugo</generator><language>en</language><lastBuildDate>Tue, 21 Jan 2020 20:54:18 -0500</lastBuildDate><atom:link href="https://jarz.net/tags/asp.net-core/index.xml" rel="self" type="application/rss+xml"/><item><title>Azure Application Insights payload logging in ASP.NET Core 3.1</title><link>https://jarz.net/posts/app-insights-logging-middleware/</link><pubDate>Tue, 21 Jan 2020 20:54:18 -0500</pubDate><guid>https://jarz.net/posts/app-insights-logging-middleware/</guid><description>&lt;p>At the beginning of January I presented on &lt;a href="https://docs.microsoft.com/en-us/azure/azure-monitor/app/app-insights-overview" class="external-link" target="_blank" rel="noopener">Azure Application Insights&lt;/a> at CodeMash. While building my &lt;a href="https://github.com/jarz/AlbumViewerVNext/tree/test/add-ai" class="external-link" target="_blank" rel="noopener">demo&lt;/a> against an ASP.NET Core 3.1 project, I couldn&amp;rsquo;t reuse an existing &lt;em>TelemetryInitializer&lt;/em> to log request bodies for troubleshooting. A &lt;em>TelemetryInitializer&lt;/em> allows developers to add or modify properties on telemetry sent to Application Insights; &lt;a href="https://docs.microsoft.com/en-us/azure/azure-monitor/app/api-filtering-sampling#addmodify-properties-itelemetryinitializer" class="external-link" target="_blank" rel="noopener">Microsoft&amp;rsquo;s example&lt;/a> overrides the default success logic such that 400-level errors aren&amp;rsquo;t considered failures (the default in Application Insights). Changes made in ASP.NET Core 3.0 no longer allowed me to use this:&lt;/p></description></item></channel></rss>